"use strict";(self.webpackChunkoauth_frontend=self.webpackChunkoauth_frontend||[]).push([[762],{92449:function(e,t,r){r.d(t,{E:function(){return S}});var n=r(1413),s=r(74165),i=r(15861),o=r(29439),c=r(1396),a=r(26998),l=r(92681),u=r(93241),d=r(53503),f=r(94722),p=r(91321),m=r(35477),x=r(23683),h=r(62048),j=r(67727),g=r(34102),v=r(79968),b=r(47313),_=r(75627),Z=r(75590),w=r(26672),y=r(46417),S=function(){var e,t,r,S,I=(0,_.cI)({defaultValues:{name:"",description:""}}),k=I.register,q=I.handleSubmit,C=I.formState.errors,z=(0,g.m8)().createAccount,T=(0,Z.$G)().t,D=(0,b.useState)(!1),G=(0,o.Z)(D,2),V=G[0],N=G[1],O=(0,b.useState)(),E=(0,o.Z)(O,2),R=E[0],$=E[1],J={value:!0,message:T("form.error.field_is_required")},A={value:40,message:T("form.error.field_is_too_long",{max:40})},U=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,z(new v.mR(t));case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),"string"!==typeof e.t0){e.next=10;break}return e.abrupt("return",$(e.t0));case 10:if("string"===typeof e.t0||!("message"in e.t0)){e.next=12;break}return e.abrupt("return",$(e.t0.message));case 12:console.error("uncatched error:",e.t0);case 13:return e.prev=13,N(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,6,13,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsxs)(c.k,{as:"form",direction:"column",onSubmit:q(U),gap:3,children:[(0,y.jsxs)(a.NI,{isRequired:!0,isInvalid:!!C.name,children:[(0,y.jsx)(l.l,{children:T("form.account_create.account_name")}),(0,y.jsx)(u.I,(0,n.Z)((0,n.Z)({type:"text"},k("name",{required:J,maxLength:A})),{},{mb:1})),C.name?(0,y.jsx)(d.J1,{children:null===(e=C.name)||void 0===e||null===(t=e.message)||void 0===t?void 0:t.toString()}):(0,y.jsxs)(f.x,{fontSize:"sm",color:"gray.400",children:[(0,y.jsx)(p.J,{as:w.DAO,mr:1}),T("form.account_create.account_name_note")]})]}),(0,y.jsxs)(a.NI,{isInvalid:!!C.description,children:[(0,y.jsx)(l.l,{children:T("form.account_create.account_description")}),(0,y.jsx)(m.g,(0,n.Z)({},k("description"))),(0,y.jsx)(d.J1,{children:null===(r=C.description)||void 0===r||null===(S=r.message)||void 0===S?void 0:S.toString()})]}),R&&(0,y.jsxs)(x.b,{children:[(0,y.jsx)(h.z,{}),R]}),(0,y.jsx)(j.z,{type:"submit",isLoading:V,children:T("form.account_create.button_create")})]})}},2830:function(e,t,r){r.d(t,{L:function(){return i}});var n=r(34102),s=r(47313),i=function(){var e=(0,n.m8)(),t=e.account,r=e.balance,i=e.fetchAccount;(0,s.useEffect)((function(){"undefined"===typeof t&&i()}),[t,i]);var o="undefined"!==typeof t,c=o&&r>0;return{exists:o,existsVariation:function(e,t){return o?e:t},healthVariation:function(e,t){return c?e:t},isHealthy:c}}},22418:function(e,t,r){r.d(t,{Z:function(){return I}});var n=r(74165),s=r(93433),i=r(15861),o=r(29439),c=r(36459),a=r(52982),l=r(93241),u=r(65700),d=r(92681),f=r(1396),p=r(47313),m=r(1200),x=r(79267),h=r(74200),j=r(14707),g=r(92293),v=r(97939),b=r(65059),_=r(65508),Z=r(88910),w=r(46417),y=function(e){var t=e.user,r=e.clickedBgColor,n=e.size,s=void 0===n?"sm":n,i=e.onClick,o=e.onRemove,c=e.externalLink,a=void 0===c||c,l="function"===typeof i,u="5";return"xs"===s&&(u="0"),"sm"===s&&(u="3"),(0,w.jsx)(h.Z,{onClick:function(){"function"===typeof i&&i(t)},style:l?{cursor:"pointer"}:{},bgColor:r,children:(0,w.jsx)(j.O,{p:u,children:(0,w.jsxs)(f.k,{children:[(0,w.jsxs)(f.k,{flex:"1",gap:"4",alignItems:"center",flexWrap:"wrap",children:[(0,w.jsx)(g.q,{name:t.login,src:t.avatar_url,size:s}),(0,w.jsx)(v.xu,{mr:1,children:(0,w.jsx)(b.X,{size:s,children:t.login})})]}),a&&(0,w.jsx)(_.r,{href:t.html_url,isExternal:!0,children:(0,w.jsx)(Z.h,{variant:"ghost",colorScheme:"gray","aria-label":"Profile",icon:(0,w.jsx)(m.h,{}),size:s})}),o&&(0,w.jsx)(Z.h,{onClick:function(){"function"===typeof o&&o(t)},variant:"ghost",colorScheme:"red","aria-label":"Profile",icon:(0,w.jsx)(x.p,{}),size:s})]})})})},S=r(75590),I=function(e){var t=Object.assign({},((0,c.Z)(e),e)),r=(0,a.p)(),m=(0,S.$G)().t,x=(0,p.useState)(""),h=(0,o.Z)(x,2),j=h[0],g=h[1],v=(0,p.useState)(null),b=(0,o.Z)(v,2),_=b[0],Z=b[1],I=(0,p.useState)([]),k=(0,o.Z)(I,2),q=k[0],C=k[1],z=(0,p.useState)([]),T=(0,o.Z)(z,2),D=T[0],G=T[1];(0,p.useEffect)((function(){_&&clearTimeout(_),Z(setTimeout(V,500))}),[j]),(0,p.useEffect)((function(){"function"===typeof t.onUpdateSelection&&t.onUpdateSelection(D)}),[D]);var V=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,i,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C([]),j){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t=[],e.next=7,fetch("https://api.github.com/search/users?q=".concat(j));case 7:return i=e.sent,e.next=10,i.json();case 10:return(o=e.sent).items.length>0&&t.push.apply(t,(0,s.Z)(o.items)),e.next=14,fetch("https://api.github.com/orgs/".concat(j,"/public_members"));case 14:return i=e.sent,e.next=17,i.json();case 17:(o=e.sent).length>0&&t.push.apply(t,(0,s.Z)(o)),c=t.filter((function(e,t,r){return r.findIndex((function(t){return t.id===e.id}))===t})),C(c),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(3),console.error("Error fetching users:",e.t0),r({title:m("csp_census.github.error_fetching_users"),status:"error",duration:5e3,isClosable:!0});case 27:case"end":return e.stop()}}),e,null,[[3,23]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){D.includes(e)?G((function(t){return t.filter((function(t){return t.id!==e.id}))})):G((function(t){return[].concat((0,s.Z)(t),[e])}))},O=function(e){G((function(t){return t.filter((function(t){return t.id!==e.id}))}))};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(l.I,{type:"text",placeholder:"Search...",onChange:function(e){return t=e.target.value,void g(t);var t}}),q&&q.length>0&&(0,w.jsx)(u.aV,{spacing:2,maxH:500,overflow:"scroll",children:q.map((function(e){return(0,w.jsx)(u.HC,{style:{listStyleType:"none"},children:(0,w.jsx)(y,{size:"sm",user:e,onClick:N,clickedBgColor:D.includes(e)?"teal.100":"transparent"})},e.id)}))}),t.showSelectedList&&D.length>0&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.l,{mt:8,children:m("csp_census.github.selected_users")}),(0,w.jsx)(u.aV,{children:(0,w.jsx)(f.k,{children:D.map((function(e){return(0,w.jsx)(u.HC,{mr:2,children:(0,w.jsx)(y,{user:e,size:"xs",onRemove:O,externalLink:!1})},e.id)}))})})]})]})}},99762:function(e,t,r){r.r(t),r.d(t,{default:function(){return ie}});var n=r(1396),s=r(23683),i=r(62048),o=r(75590),c=r(92449),a=r(2830),l=r(74165),u=r(1413),d=r(15861),f=r(29439),p=r(52982),m=r(26998),x=r(92681),h=r(67727),j=r(34102),g=r(79968),v=r(47313),b=r(75627),_=r(58467),Z=r(26840),w=r(92167),y=r(42061),S=r(94722),I=r(88910),k=r(45987),q=r(97939),C=r(46417),z=["children"],T=function(e){var t=e.children,r=(0,k.Z)(e,z);return(0,C.jsx)(q.xu,(0,u.Z)((0,u.Z)({p:{base:1,sm:4},bg:"gray.100",borderRadius:"md"},r),{},{children:(0,C.jsx)(q.xu,{as:"fieldset",p:{base:2,sm:4},pt:2,borderRadius:"md",bg:"white",children:t})}))},D=r(79267),G=r(93241),V=r(53503),N=r(97292),O=function(e){var t=e.index,r=e.remove,s=(0,o.$G)().t,i=function(e){return s("form.process_create.address_title",{num:e+1})},c=(0,b.Gc)(),a=c.register,l=c.getValues,d=c.formState.errors;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(m.NI,{mb:4,isInvalid:(0,N.Bg)(d,"addresses.".concat(t,".address")),children:[(0,C.jsxs)(n.k,{alignItems:"center",children:[(0,C.jsx)(x.l,{whiteSpace:"nowrap",children:i(t)}),l().weightedVote&&(0,C.jsxs)(m.NI,{display:"flex",alignItems:"end",m:0,isInvalid:(0,N.Bg)(d,"addresses.".concat(t,".weight")),children:[(0,C.jsx)(x.l,{children:s("form.process_create.address_weight")}),(0,C.jsx)(G.I,(0,u.Z)({size:"sm",type:"number",width:24},a("addresses.".concat(t,".weight")))),(0,C.jsx)(V.J1,{children:(0,N.Tu)(d,"addresses.".concat(t,".weight"))})]}),(0,C.jsx)(I.h,{ml:"auto",size:"xs",type:"button",icon:(0,C.jsx)(D.p,{}),"aria-label":"delete address",onClick:function(){return r(t)}})]}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({},a("addresses.".concat(t,".address"),{required:{value:!0,message:s("form.error.field_is_required")},pattern:{value:/^(0x)?[0-9a-fA-F]{40}$/,message:s("form.error.address_pattern")}})),{},{placeholder:i(t)})),(0,C.jsx)(V.J1,{children:(0,N.Tu)(d,"addresses.".concat(t,".address"))})]},t)})},E=function(){var e=(0,b.Dq)({name:"addresses"}),t=e.fields,r=e.append,n=e.remove,s=(0,o.$G)().t;return(0,C.jsxs)(T,{children:[(0,C.jsxs)(y.U,{justify:"space-between",mb:2,children:[(0,C.jsx)(S.x,{as:"legend",fontSize:"1.3em",children:s("form.process_create.addresses_title")}),(0,C.jsx)(I.h,{ml:"auto",size:"sm",type:"button",icon:(0,C.jsx)(w.d,{}),"aria-label":"addresses",onClick:function(){return r({address:"",weight:0})}})]}),t.map((function(e,t){return(0,C.jsx)(O,{index:t,remove:n},t)}))]})},R=r(35477),$=function(){var e,t,r,n,s=(0,b.Gc)(),i=s.register,c=s.formState.errors,a=(0,o.$G)().t,l={value:!0,message:a("form.error.field_is_required")};return(0,C.jsx)(T,{children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(m.NI,{mb:4,isInvalid:!!c.title,isRequired:!0,children:[(0,C.jsx)(x.l,{fontSize:"1.3em",children:a("form.process_create.process_title")}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({},i("title",{required:l})),{},{placeholder:a("form.process_create.process_title_placeholder").toString()})),(0,C.jsx)(V.J1,{children:null===(e=c.title)||void 0===e||null===(t=e.message)||void 0===t?void 0:t.toString()})]}),(0,C.jsxs)(m.NI,{isInvalid:!!c.description,children:[(0,C.jsx)(x.l,{children:a("form.process_create.process_description")}),(0,C.jsx)(R.g,(0,u.Z)((0,u.Z)({},i("description")),{},{placeholder:a("form.process_create.process_description_placeholder").toString()})),(0,C.jsx)(V.J1,{children:null===(r=c.description)||void 0===r||null===(n=r.message)||void 0===n?void 0:n.toString()})]})]})})},J=function(e){var t=e.fields,r=e.removeOption,s=e.appendOption,i=e.index,c=(0,b.Gc)(),a=c.register,l=c.formState.errors,d=(0,o.$G)().t;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(y.U,{justifyContent:"space-between",mb:4,mt:8,children:[(0,C.jsx)(x.l,{children:"Options"}),(0,C.jsx)(I.h,{type:"button",size:"sm",icon:(0,C.jsx)(w.d,{}),"aria-label":"Add option",onClick:function(){return s({option:""})}})]}),t.map((function(e,t){return(0,C.jsxs)(m.NI,{mb:4,isInvalid:(0,N.Bg)(l,"questions.".concat(i,".options.").concat(t,".option")),children:[(0,C.jsxs)(n.k,{alignItems:"center",children:[(0,C.jsxs)(x.l,{children:["Option ",t+1]}),(0,C.jsx)(I.h,{ml:"auto",size:"xs",type:"button",icon:(0,C.jsx)(D.p,{}),"aria-label":"delete option",onClick:function(){return r(t)}})]}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({},a("questions.".concat(i,".options.").concat(t,".option"),{required:{value:!0,message:d("form.error.field_is_required")}})),{},{placeholder:"Option ".concat(t+1)})),(0,C.jsx)(V.J1,{children:(0,N.Tu)(l,"questions.".concat(i,".options.").concat(t,".option"))})]},t)}))]})},A=function(e){var t=e.index,r=e.remove,n=(0,b.Gc)(),s=n.register,i=n.formState.errors,c=(0,o.$G)().t,a=(0,b.Dq)({name:"questions.".concat(t,".options")}),l=a.fields,d=a.append,f=a.remove,p=t+1;return(0,C.jsxs)(q.xu,{bg:"white",p:{base:2,sm:4},borderRadius:8,children:[(0,C.jsxs)(y.U,{justify:"space-between",mb:4,children:[(0,C.jsx)(x.l,{children:c("form.process_create.question_identifier",{num:p})}),(0,C.jsx)(I.h,{type:"button",size:"sm",icon:(0,C.jsx)(D.p,{}),"aria-label":c("form.process_create.question_delete",{num:p}),onClick:function(){return r()}})]}),(0,C.jsxs)(m.NI,{mb:4,isInvalid:(0,N.Bg)(i,"questions.".concat(t,".title")),children:[(0,C.jsx)(x.l,{children:c("form.process_create.question_title",{num:p})}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({},s("questions.".concat(t,".title"),{required:{value:!0,message:c("form.error.field_is_required")}})),{},{placeholder:c("form.process_create.question_placeholder",{num:p}).toString()})),(0,C.jsx)(V.J1,{children:(0,N.Tu)(i,"questions.".concat(t,".title"))})]}),(0,C.jsxs)(m.NI,{children:[(0,C.jsx)(x.l,{children:"Description"}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({},s("questions.".concat(t,".description"))),{},{placeholder:"Description"}))]}),(0,C.jsx)(J,{fields:l,removeOption:f,appendOption:d,index:t})]})},U=function(){var e=(0,b.Dq)({name:"questions"}),t=e.fields,r=e.append,s=e.remove,i=(0,o.$G)().t;return(0,C.jsxs)(n.k,{as:"fieldset",direction:"column",gap:{base:1,sm:4},p:{base:1,sm:4},bg:"gray.100",borderRadius:"md",children:[(0,C.jsxs)(y.U,{justifyContent:"space-between",bg:"white",p:{base:2,sm:4},borderRadius:"md",children:[(0,C.jsx)(S.x,{as:"legend",fontSize:"1.3em",children:i("form.process_create.questions_title")}),(0,C.jsx)(I.h,{type:"button",size:"sm",icon:(0,C.jsx)(w.d,{}),"aria-label":"add question",onClick:function(){return r({title:"",description:"",options:[{option:""},{option:""}]})}})]}),t.map((function(e,t){return(0,C.jsx)(A,{index:t,remove:function(){return s(t)}},e.id)}))]})},L=r(43371),F=r(76080),B=r(45129),H=r(78470),P=r(2669),X=r(32154),W=["label","field"],K=function(e){var t=e.label,r=e.field,n=(0,k.Z)(e,W),s=(0,b.Gc)().register;return(0,C.jsxs)(m.NI,(0,u.Z)((0,u.Z)({display:"flex",alignItems:"center"},n),{},{children:[(0,C.jsx)(x.l,{whiteSpace:"nowrap",mb:"0",children:t}),(0,C.jsx)(X.X,(0,u.Z)({},s(r)))]}))},Q=function(){var e=(0,o.$G)().t,t=(0,b.Gc)().register;return(0,C.jsx)(L.U,{allowToggle:!0,children:(0,C.jsxs)(F.Q,{children:[(0,C.jsxs)(B.K,{children:[(0,C.jsx)(q.xu,{as:"span",flex:"1",textAlign:"left",children:e("form.process_create.advanced_settings")}),(0,C.jsx)(H.X,{})]}),(0,C.jsxs)(P.H,{pb:4,children:[(0,C.jsxs)(n.k,{gap:{base:6,sm:3},justifyContent:"space-between",flexDirection:{base:"column",md:"row"},alignItems:{base:"start",md:"end"},mb:3,children:[(0,C.jsx)(K,{label:e("form.process_create.weighted_vote"),field:"weightedVote"}),(0,C.jsx)(K,{label:e("form.process_create.interruptible"),field:"electionType.interruptible"}),(0,C.jsx)(K,{label:e("form.process_create.secret_until_the_end"),field:"electionType.secretUntilTheEnd"})]}),(0,C.jsxs)(m.NI,{children:[(0,C.jsx)(x.l,{pt:2,whiteSpace:"nowrap",children:e("form.process_create.max_vote_overwrites")}),(0,C.jsx)(G.I,(0,u.Z)({w:"full",type:"number"},t("maxVoteOverwrites")))]})]})]})})},Y=r(91518),M=function(){var e=(0,o.$G)().t,t=(0,b.Gc)(),r=t.register,n=t.unregister,s=t.getValues;return(0,v.useEffect)((function(){s().electionType.autoStart&&n("startDate")}),[s().electionType.autoStart,n]),(0,C.jsxs)(m.NI,{display:"flex",alignItems:"center",children:[(0,C.jsx)(x.l,{htmlFor:"autostart",mb:"0",children:e("form.process_create.autostart")}),(0,C.jsx)(Y.r,(0,u.Z)((0,u.Z)({},r("electionType.autoStart")),{},{id:"autostart"}))]})},ee=function(){var e,t,r,s,i=(0,b.Gc)(),c=i.register,a=i.getValues,l=i.watch,d=i.formState.errors,f=(0,o.$G)().t;l("weightedVote"),(0,b.qo)({name:["electionType"]});var p={value:!0,message:f("form.error.field_is_required")},h=c("startDate").ref,j=c("endDate").ref,g=(0,v.useRef)(),_=(0,v.useRef)(),Z=function(e){e.current&&"showPicker"in e.current&&e.current.showPicker()};return(0,C.jsx)(T,{children:(0,C.jsxs)(n.k,{direction:"column",gap:4,children:[(0,C.jsx)(S.x,{as:"legend",fontSize:"1.3em",children:f("form.process_create.settings")}),(0,C.jsx)(M,{}),!a().electionType.autoStart&&(0,C.jsxs)(m.NI,{isInvalid:!!d.startDate,children:[(0,C.jsx)(x.l,{whiteSpace:"nowrap",children:f("form.process_create.date_start")}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({type:"date"},c("startDate",{required:p})),{},{ref:function(e){h(e),g.current=e},onClick:function(){return Z(g)}})),(0,C.jsx)(V.J1,{children:null===(e=d.startDate)||void 0===e||null===(t=e.message)||void 0===t?void 0:t.toString()})]}),(0,C.jsxs)(m.NI,{isInvalid:!!d.endDate,children:[(0,C.jsx)(x.l,{children:f("form.process_create.date_end")}),(0,C.jsx)(G.I,(0,u.Z)((0,u.Z)({type:"date"},c("endDate",{required:p})),{},{ref:function(e){j(e),_.current=e},onClick:function(){return Z(_)}})),(0,C.jsx)(V.J1,{children:null===(r=d.endDate)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.toString()})]}),(0,C.jsx)(Q,{})]})})},te=r(22418),re=r(83871),ne=function(){var e=(0,Z.mA)().address,t=(0,j.m8)().client,r=(0,v.useState)(!1),c=(0,f.Z)(r,2),a=c[0],w=c[1],y=(0,v.useState)(""),S=(0,f.Z)(y,2),I=S[0],k=S[1],q=(0,_.s0)(),z=(0,o.$G)().t,D=(0,p.p)(),G=(0,v.useState)([]),V=(0,f.Z)(G,2),N=V[0],O=V[1],R=(0,re.YX)(),J=R.vocdoniAdminClient,A=R.saveAdminToken,L=(0,b.cI)({defaultValues:{electionType:{autoStart:!1,interruptible:!0,secretUntilTheEnd:!0},maxVoteOverwrites:0,weightedVote:!1,addresses:[{},{}],questions:[{options:[{},{}]}]}});(0,v.useEffect)((function(){e&&L.setValue("addresses.".concat(0,".address"),e)}),[e,L]);var F=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(r){var n,s,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(""),w(!0),e.prev=2,n=g.bO.from((0,u.Z)((0,u.Z)({},r),{},{maxCensusSize:1e5,census:new g.IH("03ad3e786dc4af9d0acb0589ae066f64c19d37e63835c4bb77d3b11108f399f135","http://localhost:5000/v1/auth/elections/admin"),questions:r.questions.map((function(e){return{title:{default:e.title},description:{default:e.description},choices:e.options.map((function(e,t){return{title:{default:e.option},value:t}}))}})),startDate:r.electionType.autoStart?void 0:new Date(r.startDate).getTime(),endDate:new Date(r.endDate).getTime(),voteType:{maxVoteOverwrites:Number(r.maxVoteOverwrites)}})),e.next=6,t.createElection(n);case 6:return s=e.sent,D({title:z("form.process_create.success_title"),description:z("form.process_create.success_description"),status:"success",duration:4e3}),i="0x".concat(s),e.next=11,B(s);case 11:return o=e.sent,e.next=14,A(i,o.adminToken);case 14:setTimeout((function(){return q("/processes/".concat(i))}),3e3),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),"message"in e.t0&&k(e.t0.message),console.error("could not create election:",e.t0);case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J){e.next=2;break}throw new Error("Vocdoni Admin Client not initialized");case 2:return r={electionId:t,handlers:[{handler:"oauth",service:"github",mode:"usernames",data:N.map((function(e){return e.login}))}]},e.next=5,J.cspElectionCreate(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,C.jsx)(b.RV,(0,u.Z)((0,u.Z)({},L),{},{children:(0,C.jsxs)(n.k,{as:"form",direction:"column",gap:4,onSubmit:L.handleSubmit(F),children:[(0,C.jsx)($,{}),(0,C.jsx)(ee,{}),(0,C.jsx)(E,{}),(0,C.jsx)(U,{}),(0,C.jsx)(T,{children:(0,C.jsxs)(m.NI,{mb:4,children:[(0,C.jsx)(x.l,{fontSize:"1.3em",children:z("form.process_create.select_github_users")}),(0,C.jsx)(te.Z,{onUpdateSelection:function(e){O(e)},showSelectedList:!0})]})}),I.length>0&&(0,C.jsxs)(s.b,{status:"error",children:[(0,C.jsx)(i.z,{}),I]}),(0,C.jsx)(h.z,{type:"submit",isLoading:a,disabled:a,children:z("form.process_create.submit")})]})}))},se=function(){var e=(0,a.L)(),t=e.exists,r=e.existsVariation,l=(0,o.$G)().t,u=r(ne,c.E);return(0,C.jsxs)(n.k,{direction:"column",gap:4,mt:1,mx:"auto",p:{base:0,sm:4},borderRadius:"md",width:{base:"98%",md:160},borderWidth:{sm:2},borderStyle:{sm:"solid"},borderColor:{sm:"gray.100"},children:[!t&&(0,C.jsxs)(s.b,{variant:"subtle",status:"error",children:[(0,C.jsx)(i.z,{}),l("form.process_create.unhealthy_account")]}),(0,C.jsx)(u,{})]})},ie=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(se,{})})}}}]);